# 1004 最大连续1的个数 III

medium

## 题目

给定一个由若干 0 和 1 组成的数组A，我们最多可以将K个值从 0 变成 1 。

返回仅包含 1 的最长（连续）子数组的长度。

示例 1：
```
输入：A = [1,1,1,0,0,0,1,1,1,1,0], K = 2
输出：6
解释： 
[1,1,1,0,0,1,1,1,1,1,1]
粗体数字从 0 翻转到 1，最长的子数组长度为 6。
```
示例 2：
```
输入：A = [0,0,1,1,0,0,1,1,1,0,1,1,0,0,0,1,1,1,1], K = 3
输出：10
解释：
[0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1]
粗体数字从 0 翻转到 1，最长的子数组长度为 10。
```

提示：

- `1 <= A.length <= 20000`
- `0 <= K <= A.length`
- `A[i] 为0或1`

## 思路

#### 滑动窗口

看到了数组，最大连续。这基本就是滑动窗口类型的题目。那么滑动窗口一般就可以使用双指针的方式来处理窗口的滚动。

主要有两种思路：

1. 一种是995题类似的，使用一个队列去保存需要转换的索引。然后当窗口无法满足K的时候，从队列中弹出抛弃的转换索引，然后+1得到新的窗口左边界。这个窗口移动的过程更接近真实的操作过程，右边界一直+1移动，左边界是真实的跳跃式移动。然后每次移动需要维护窗口内的翻转个数和K的关系（即那个翻转队列）;
2. 第二种是膨胀窗口思路，这种方式稍微更抽象些。这里只需要窗口的左右角标和翻转计数器。然后右角标一直移动，只要碰到0，计数器+1。然后在判断计数器是否超过K，如果超出，则左角标移动，并且判断移动前是否是0，是的话，则计数器减去这个0的转换次数。最后这个窗口只会不断的被满足条件的撑大，窗口内不满足条件时，窗口整体右移；最后右左角标相减就是窗口的大小；

## 实现

[代码 -> com/rysis/bank/Main1004.java](../../src/com/rysis/bank/Main1004.java)