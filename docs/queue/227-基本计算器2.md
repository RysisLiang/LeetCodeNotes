# 227 基本计算器2

medium

## 题目

给你一个字符串表达式 s ，请你实现一个基本计算器来计算并返回它的值。

整数除法仅保留整数部分。


示例 1：
```
输入：s = "3+2*2"
输出：7
示例 2：

输入：s = " 3/2 "
输出：1
示例 3：

输入：s = " 3+5 / 2 "
输出：5
```

提示：

- `1 <= s.length <= 3 * 105`
- s 由整数和算符 `('+', '-', '*', '/')` 组成，中间由一些空格隔开
- s 表示一个 有效表达式
- 表达式中的所有整数都是非负整数，且在范围 `[0, 231 - 1]` 内
- 题目数据保证答案是一个 32-bit 整数

## 思路

这道题目和224就有点不一样了。首先它包含了加减乘除的四个运算符，而没有括号。而且里面所有的数字都是非负整数。那么其实我们基本就是不用考虑符号和括号优先级的问题，只用考虑先算乘除后算加减即可。

那么还是沿用224的思路，先构造一个栈（我使用了数组实现），用于存储每个数字，而乘除由于先算，所以碰到乘除的时候，直接计算结果，在放入栈中。减法的话，可以将数组进行相反数的处理（其实就是负数），然后放入栈中。最后对栈内的所有数字统一进行相加操作即可。

思路一，碰到乘除才计算，加减则压入栈：
1. 定义栈 `stack`、定义加减乘除的运算符号 `symbol`;
2. 如果是数字则记录下来`num`；
3. 如果是符号则，检查之前是符号`symbol`是什么？加减则将`num`放入栈中。如果是乘除则`stack.push = stack.pop */ num`
4. 然后将栈中的数字都相加；

另一种思路是，加减乘除都不计算，只记录符号。然后当碰到数字时，得到数字`num`后，判断之前的符号是什么，如果有乘除则计算并压入栈。无论有没有乘除都会再将结果与之前的加减进行一次判断，并重新压入栈。

## 实现

[代码 -> com.rysis/queue/Main_227.java](../../src/com/rysis/queue/Main_227.java)